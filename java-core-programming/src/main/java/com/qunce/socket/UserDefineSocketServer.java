package com.qunce.socket;

import com.qunce.datasecurity.DesUtil;
import com.qunce.datasecurity.DesUtils;
import io.vertx.core.Future;
import io.vertx.core.Vertx;
import io.vertx.core.net.NetServer;
import io.vertx.core.net.NetServerOptions;
import io.vertx.core.net.NetSocket;
import io.vertx.core.net.SocketAddress;

import java.util.concurrent.atomic.AtomicInteger;

/**
 * @Description TODO
 * @Author hu zhongxi
 */
public class UserDefineSocketServer {

    public static final String DES_KEY = "181D244714EE2A1A4E1E6C344359D89D181D244714EE2A1A";

    public static AtomicInteger num = new AtomicInteger(0);

    public static void main(String[] args) {
        Vertx vertx = Vertx.vertx();
        NetServerOptions options = new NetServerOptions();
        options.setReceiveBufferSize(Integer.MAX_VALUE);

        NetServer server = vertx.createNetServer(options);
        server.connectHandler(socket -> {
            socket.handler(buffer -> {
                int get = num.incrementAndGet();
                System.out.println(socket);
                String content = buffer.toString();
                System.out.println(content);
                content = content.substring(content.lastIndexOf("*") + 1, content.length() - 1);
                System.out.println(content);
                System.out.println("定位卡上送平台指令：" + DesUtil.decrypt(DES_KEY, content));
                switch (get) {
 /*                   case 1 : cr(socket);
                    case 2 : sos(socket);
                    case 3 : family(socket); 
                    case 4 : appUpdate(socket); 
                    case 5 : reset(socket); 
                    case 6 : cr(socket); 
                    case 7 : poweroff(socket); 
                    case 8 : voice(socket); 
                    case 9 : scene(socket); 
                    case 10 : schoolSignin(socket); 
                    case 11 : schoolSigninEnd(socket); 
                    case 12 : resetDevice(socket); 
                    case 13 : nightMode(socket); 
                    case 14 : se(socket); */
                    default:
                        System.out.println("指令下发结束");
                }
            });

        }).listen(54321, "10.8.11.66", res -> {
            if (res.succeeded()) {
                System.out.println("Server is now listening!");
            } else {
                System.out.println("Failed to bind!");
            }
        });
    }

    /**
     * LK
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05A65D78F90939989A]
     * 88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05A65D78F90939989A
     * 定位卡上送平台指令：CS01*868807049006736*0002*LK
     */



    /**
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E1E97DB9CDB8D7C7F93CC7E2DFF846BE9F646A66A9384046AC86993C4BD6E7D5E49C23EF798460F64589CFAF073DAF717A8D0609C0CAAF079334F6B3447406100AECF5535C69FF14EA12814465321612A6E9A433B1B9707E77B5251237A75EF55E5C7D9A42598255C7C981DFC1551CF2E5DD250EDD328B709E0CD563F9247A5D98BCEDDF914A1C9855A99BD8E593F75BF2E13F278F1AA129CC5BF40FD3B1AB4590B3EC10FEDC7ABC2F7EE75903DE99B78182C373E1993A9F67C8B52DE3828F44C6DA5DCDB884374F279B90A7162CFE119C3727B6D4EF6D2575A99BD8E593F75BF2E13F278F1AA129C02F4B1396D7A267451E9FACE302223496FADD3C7E1EB51620DD21467EFF02126C67279E8B5FD015FA8D440746A77D52BBD714406DAD1099FD978A8F5ABF352C612878727F3F7055FA17BA09CB5BA44585B6A8469673D40334B1604869DFC7D5D80D86B2BB53DCA118021525E090C06733784D3688E967AFD684EA3F547483AA611ABFC86E44A035BF47107738CFF5A5EEF5C9A30B842C9711C354EE20FFB2D3E9367BAB177D05E644F541DAB469F6E505D31BB645E06A326B381E98101BFEBB7A769AB38B842D6B8119C3DF2E2EA132F79A8AADBC24C9AE3E64B9B55728DA59063D8E1A0DF055179A1F551B132154FDA518EED3FB53A6292EA93EEE0153F0995FF075CAA72BBBA996DF91C0E7D05BB1C2D4EFA89D60EF3A4F7C561728692FA9B752A9DEA5FE850C23373DEF7D7F2C7C6606005049970D4F0A23D35DFF684A5BEC2C26AC61602D9E433978E3074E5AA82]
     * 88573145FD4EBB941AE6414E2B41F46E1E97DB9CDB8D7C7F93CC7E2DFF846BE9F646A66A9384046AC86993C4BD6E7D5E49C23EF798460F64589CFAF073DAF717A8D0609C0CAAF079334F6B3447406100AECF5535C69FF14EA12814465321612A6E9A433B1B9707E77B5251237A75EF55E5C7D9A42598255C7C981DFC1551CF2E5DD250EDD328B709E0CD563F9247A5D98BCEDDF914A1C9855A99BD8E593F75BF2E13F278F1AA129CC5BF40FD3B1AB4590B3EC10FEDC7ABC2F7EE75903DE99B78182C373E1993A9F67C8B52DE3828F44C6DA5DCDB884374F279B90A7162CFE119C3727B6D4EF6D2575A99BD8E593F75BF2E13F278F1AA129C02F4B1396D7A267451E9FACE302223496FADD3C7E1EB51620DD21467EFF02126C67279E8B5FD015FA8D440746A77D52BBD714406DAD1099FD978A8F5ABF352C612878727F3F7055FA17BA09CB5BA44585B6A8469673D40334B1604869DFC7D5D80D86B2BB53DCA118021525E090C06733784D3688E967AFD684EA3F547483AA611ABFC86E44A035BF47107738CFF5A5EEF5C9A30B842C9711C354EE20FFB2D3E9367BAB177D05E644F541DAB469F6E505D31BB645E06A326B381E98101BFEBB7A769AB38B842D6B8119C3DF2E2EA132F79A8AADBC24C9AE3E64B9B55728DA59063D8E1A0DF055179A1F551B132154FDA518EED3FB53A6292EA93EEE0153F0995FF075CAA72BBBA996DF91C0E7D05BB1C2D4EFA89D60EF3A4F7C561728692FA9B752A9DEA5FE850C23373DEF7D7F2C7C6606005049970D4F0A23D35DFF684A5BEC2C26AC61602D9E433978E3074E5AA82
     * CS01*868807049006736*0228*UD,20210322,115717,0.0,0.0,95,0,00000000,13|-48#88:25:93:64:06:b6#416e64726f696440694f53|-53#70:57:bf:8a:e5:f2#7768747932|-55#70:57:bf:8a:e5:f0#7768747934|-56#3e:66:d3:70:ab:31#5265646d69204e6f74652039|-56#70:57:bf:8a:e5:f1#7768747933|-67#74:85:c4:51:89:62#594654583233|-68#54:75:95:8d:e0:f0#77687479323134|-72#8c:de:f9:3e:33:d3#5869616f6d695f323037|-76#00:1e:a8:0b:2e:21#6875646f6f|-77#f8:8c:21:98:10:b1#54502d4c494e4b5f333034|-80#54:75:95:8d:d8:92#77687479323136|-85#f8:8c:21:99:0f:2a#54502d4c494e4b5f333035|-79#88:25:93:64:38:86#594654584a463233,0.0,0|
     */

    /**
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9B8E1D721C03C2C8B3285F722C89FD6EE0BBAA89AA470E13DB90AB833AB226D230EC3F07EE0F4AA8FBD22FF536ED6B724CAE45C10FD73E69A146B61DE3A98EA893D1DF3170D359A566D2E1FAAE59F53F7BE54A5CE5F86D872D41385E80CE768894]
     * 88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9B8E1D721C03C2C8B3285F722C89FD6EE0BBAA89AA470E13DB90AB833AB226D230EC3F07EE0F4AA8FBD22FF536ED6B724CAE45C10FD73E69A146B61DE3A98EA893D1DF3170D359A566D2E1FAAE59F53F7BE54A5CE5F86D872D41385E80CE768894
     *
     * {
     * 	"vendor": "CS01",
     * 	"contentLength": 30,
     * 	"deviceId": "868807049006736",
     * 	"content": {
     * 		"instruction": "VERNO",
     * 		"sosPhoneNumberList": ["13317173750","13317173750","13317173750"],
     * 		"familyPhoneNumberList": ["13317173750","13317173750","13317173750"],
     * 		"whitelist": ["13317173750","13317173750","13317173750","13317173750","13317173750"],
     * 		"ringBell": "4",
     * 		"shock": "4",
     * 		"ringerVolume": "4",
     * 		"callVolume": "4"
     *        }
     * }
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E3DB910C0997A7AA2921011BD0970946DF2DFA5D330177D85CA5A3B47701BCBEC0C5E7E3C58EE61B0F2DFA5D330177D85CA5A3B47701BCBEC0C5E7E3C58EE61B0F2DFA5D330177D85CA5A3B47701BCBEC0C5E7E3C58EE61B0F2DFA5D330177D85CA5A3B47701BCBEC0C5E7E3C58EE61B0F2DFA5D330177D85CA5A3B47701BCBEC0C5E7E3C58EE61B0F2DFA5D330177D85DB51F2164C4474D73D76A18A598F3CA5]
     */

    /**
     * CS01*868807049006736*001E*UPLOAD,20190812154742I7536,600
     * {
     * 	"vendor": "CS01",
     * 	"contentLength": 30,
     * 	"deviceId": "868807049006736",
     * 	"content": {
     * 		"instruction": "UPLOAD",
     * 		"serialNumber": "20190812154742I7536",
     * 		"timeInterval": "600"
     *        }
     * }
     *
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E1C3A821300FBD28137CD39802A2F4EFCEE0630C3D98ECBB896651EB9390E931ED739DA529A7030475FFD662CCD0CD535]
     *
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E1C3A821300FBD28137CD39802A2F4EFCEE0630C3D98ECBB896651EB9390E931ED739DA529A703047C5E43773AB6DB8A4]
     * CS01*868807049006736*001E*UPLOAD,20190812154742I7536,600,OK
     * @param socket
     */
    public static void upload(NetSocket socket) {
        String data = "CS01*868807049006736*001E*UPLOAD,20190812154742I7536,600";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*003B*SOS,20190812153548I4363,13317173750,15932013635,13582335773
     * {
     * 	"vendor": "CS01",
     * 	"contentLength": 30,
     * 	"deviceId": "868807049006736",
     * 	"content": {
     * 		"instruction": "SOS",
     * 	    "serialNumber": "20190812154742I7536",
     * 		"sosPhoneNumberList": ["13317173750","13317173750","13317173750"]
     *        }
     * }
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E5FE3A51CABDF5F28F2F665FAF93908ADB595D76D82A18953F02042D649F233054B95B6AFCA50AFEF278F9947F01BD221E0001EFE0EA8C199C6CDA6EF84EAD1E12466F9D05AE10CC2]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E5FE3A51CABDF5F283A2D99542C554ECDB595D76D82A189530E5184F5407BDFE1466A355A5C24EDEE563813E2BAFDFECECEBCE17E6B1C17B5F5DBD66787A05B938141165666619909]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E5FE3A51CABDF5F283A2D99542C554ECDB595D76D82A189530E5184F5407BDFE1466A355A5C24EDEE563813E2BAFDFECECEBCE17E6B1C17B5F5DBD66787A05B93183B44C69C19209D5FFD662CCD0CD535]
     * CS01*868807049006736*003B*SOS,20190812153548I4363,13317173750,15932013635,13582335773,OK
     * @param socket
     */
    public static void sos(NetSocket socket) {
        String data = "CS01*868807049006736*003B*SOS,20190812153548I4363,13317173750,15932013635,13582335773";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*003E*FAMILY,20190808195855I1364,13317173750,13387552123,18171293269
     * {
     * 	"vendor": "CS01",
     * 	"contentLength": 30,
     * 	"deviceId": "868807049006736",
     * 	"content": {
     * 		"instruction": "SOS",
     * 	    "serialNumber": "20190812154742I7536",
     * 		"familyPhoneNumberList": ["13317173750","13317173750","13317173750"]
     *        }
     * }
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E5FE3A51CABDF5F2840F2691B33A4D4656B90FAC24B10196E74179FADDFC571E52C053BC9AEDA77141B141D3A769DE39A0BF1F3D3D804FC8DB0BD7EBDFC81E67F4263362310C726465FFD662CCD0CD535]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E5FE3A51CABDF5F2840F2691B33A4D4656B90FAC24B10196E74179FADDFC571E52C053BC9AEDA77141B141D3A769DE39A0BF1F3D3D804FC8DB0BD7EBDFC81E67F4263362310C72646C5E43773AB6DB8A4]
     * CS01*868807049006736*003E*FAMILY,20190808195855I1364,13317173750,13387552123,18171293269,OK
     * @param socket
     */
    public static void family(NetSocket socket) {
        String data = "CS01*868807049006736*003E*FAMILY,20190808195855I1364,13317173750,13387552123,18171293269";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*005A*APPUPDATE,20190814114414I4021,http://59.173.2.76:2132/appfile/20190814/V-WHTYDZZ-1.0.2.apk,1.0.2
     *
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E380F74460788CBB3EB5D1266362935ADE5E25B06063E2D64856CB42CDA57EDCFB37A1796B65CAD447584F0EBEC3F7AA8E62C6F28C5BF35C50D85421798B05338951E237F94CE750B035F1F838F4684501C640C0B7F0C647451FC424F646BEABA16F3F6027D202D0932C7D0EB07072A97]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E47A3D2421D6932825F904AC89BAB06DBE5E25B06063E2D6490257567EB15942333A68A2FBD9B63F47584F0EBEC3F7AA8E62C6F28C5BF35C50D85421798B05338951E237F94CE750B035F1F838F4684501C640C0B7F0C647451FC424F646BEABA16F3F6027D202D0932C7D0EB07072A97]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E47A3D2421D6932825F904AC89BAB06DBE5E25B06063E2D6490257567EB15942333A68A2FBD9B63F47584F0EBEC3F7AA8E62C6F28C5BF35C50D85421798B05338951E237F94CE750B035F1F838F4684501C640C0B7F0C647451FC424F646BEABA16F3F6027D202D094529D5442BDCC748]
     * CS01*868807049006736*005A*APPUPDATE,20190814114414I4021,http://59.173.2.76:2132/appfile/20190814/V-WHTYDZZ-1.0.2.apk,1.0.2,1,OK
     * @param socket
     */
    public static void appUpdate(NetSocket socket) {
        String data = "CS01*868807049006736*005A*APPUPDATE,20190814114414I4021,http://59.173.2.76:2132/appfile/20190814/V-WHTYDZZ-1.0.2.apk,1.0.2";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0005*RESET,20190814114414I4021
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC059FF8BB24A0A74DFB035F1F838F4684502BE0AC4B23902CE4FA2B0E383B1B890D]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC059FF8BB24A0A74DFB035F1F838F4684502BE0AC4B23902CE4032A562995E0A88F]
     * CS01*868807049006736*0005*RESET,20190814114414I4021,OK
     * @param socket
     */
    public static void reset(NetSocket socket) {
        String data = "CS01*868807049006736*0005*RESET,20190814114414I4021";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0002*CR,20190814114414I4021
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05378B1C560D137966C9EDB02CA38363FFA0495A89AE96D0AE5FFD662CCD0CD535]
     *
     * @param socket
     */
    public static void cr(NetSocket socket) {
        String data = "CS01*868807049006736*0016*CR,20190814114414I4021";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0008*POWEROFF,20190814114414I4021
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC052CC8ED81CC54DA5C4343FD23A3DEEE7CD9F225B1888282B488B62295550E9103]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC052CC8ED81CC54DA5C4343FD23A3DEEE7CD9F225B1888282B49E6D69711715CA087A578182E89087D6]
     * CS01*868807049006736*0008*POWEROFF,20190814114414I4021,OK
     * @param socket
     */
    public static void poweroff(NetSocket socket) {
        String data = "CS01*868807049006736*0008*POWEROFF,20190814114414I4021";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0008*VOICE,20190814114414I4021,3,3
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05F1D5C72B9EECB8D7035F1F838F4684502BE0AC4B23902CE4731D3886257023D4]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05F1D5C72B9EECB8D7035F1F838F4684502BE0AC4B23902CE4F352B35470A0C20348072BE41DD07CAF]
     * CS01*868807049006736*0008*VOICE,20190814114414I4021,3,3,OK
     * @param socket
     */
    public static void voice(NetSocket socket) {
        String data = "CS01*868807049006736*0008*VOICE,20190814114414I4021,3,3";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0008*SCENE,20190814114414I4021,1,1
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05286FD1BA112154A2035F1F838F4684502BE0AC4B23902CE402ED48CB9F3CFAEA]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46ED35E1EF12488FC05286FD1BA112154A2035F1F838F4684502BE0AC4B23902CE4BD5D6146D772E75248072BE41DD07CAF]
     * CS01*868807049006736*0008*SCENE,20190814114414I4021,1,1,OK
     * @param socket
     */
    public static void scene(NetSocket socket) {
        String data = "CS01*868807049006736*0008*SCENE,20190814114414I4021,1,1";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0046*SCHOOLSIGNIN,20200423142625I0445,1,14:35:00,14:45:00,14:55:00,15:05:00
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9BF8A1D92BA9DFAEB6B53EE4782698489B02B857F0489FAF54EEDECE944133F46A904714193A5799B4D066AAF42FFD3F6A8F61A984AFE2AF24697B4FB10EA3F1C82F8DE28D0A4ADADA5FFD662CCD0CD535]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9BF8A1D92BA9DFAEB6B53EE4782698489B02B857F0489FAF54EEDECE944133F46A904714193A5799B4D066AAF42FFD3F6A8F61A984AFE2AF24697B4FB10EA3F1C82F8DE28D0A4ADADAC5E43773AB6DB8A4]
     * CS01*868807049006736*0046*SCHOOLSIGNIN,20200423142625I0445,1,14:35:00,14:45:00,14:55:00,15:05:00,OK
     * @param socket
     */
    public static void schoolSignin(NetSocket socket) {
        String data = "CS01*868807049006736*0046*SCHOOLSIGNIN,20200423142625I0445,1,14:35:00,14:45:00,14:55:00,15:05:00";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0046*SCHOOLSIGNINEND,20200423142625I0445,1
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9BF8A1D92BA9DFAEB6728FE7CBFB14EA538FD4CBA1A54D7C9DE7C03CCBE71C0B5AD2F2CFD14D5D00E1]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9BF8A1D92BA9DFAEB6728FE7CBFB14EA538FD4CBA1A54D7C9DE7C03CCBE71C0B5AF781E9B29CEB442B48072BE41DD07CAF]
     * CS01*868807049006736*0046*SCHOOLSIGNINEND,20200423142625I0445,1,OK
     * @param socket
     */
    public static void schoolSigninEnd(NetSocket socket) {
        String data = "CS01*868807049006736*0046*SCHOOLSIGNINEND,20200423142625I0445,1";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0046*RESET,20200423142625I0445
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9BF39A2007233130D2BCB5C364306A1EA077C97F4469E263313A242ED2954317B7]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9BF39A2007233130D2BCB5C364306A1EA077C97F4469E263310790B7139F2C510E]
     * CS01*868807049006736*0046*RESET,20200423142625I0445,OK
     * @param socket
     */
    public static void resetDevice(NetSocket socket) {
        String data = "CS01*868807049006736*0046*RESET,20200423142625I0445";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    /**
     * CS01*868807049006736*0046*NIGHTMODE,20200423142625I0445,1,1,1,22:00,07:00
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9B25C09B6E884733056E47B707A2980B2E1055C268FF5D248522543767D634D6E80E98F3B9A1897B3E2FFA0006FD645F2A6510DF1168F23E32]
     * [####*868807049006736*88573145FD4EBB941AE6414E2B41F46E867769EF3CA82D9B25C09B6E884733056E47B707A2980B2E1055C268FF5D248522543767D634D6E80E98F3B9A1897B3E2FFA0006FD645F2A752CCDCBB70DEC9F]
     * CS01*868807049006736*0046*NIGHTMODE,20200423142625I0445,1,1,1,22:00,07:00,OK
     * @param socket
     */
    public static void nightMode(NetSocket socket) {
        String data = "CS01*868807049006736*0046*NIGHTMODE,20200423142625I0445,1,1,1,22:00,07:00";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    public static void se(NetSocket socket) {
        String data = "CS01*868807049006736*0011*SE,1,00210000";
        String deviceId = "868807049006736";
        send(socket, data, deviceId);
    }

    public static void send(NetSocket socket, String data, String deviceId) {
        System.out.println("平台发送定位卡指令：" +  data);
        data = DesUtil.encrypt(DES_KEY, data);
        data = "[####*" + deviceId + "*" + data + "]";
        System.out.println(data);
        Future<Void> response = socket.write(data);
        response.onSuccess(item -> {
            System.out.println("响应发送成功");
        });
    }
}
